(()=>{function e(e){chrome.bookmarks.getTree((function(t){$("#bookmarks").append(n(t,e))}))}function n(e,n){const r=$("<ul>");for(let o=0;o<e.length;o++)r.append(t(e[o],n));if(r.length>0)return r}function t(e,t){let r="";if(e.title){if(t&&!e.children&&-1==String(e.title.toLowerCase()).indexOf(t.toLowerCase()))return $("<span></span>");const n=$("<a>");n.attr("href",e.url),n.text(e.title),n.click((function(){chrome.tabs.create({url:e.url})})),r=$("<span>"),r.hover((function(){})).append(n)}const o=$(e.title?"<li>":"<div>").append(r);return e.children&&e.children.length>0&&o.append(n(e.children,t)),o}$("#search").change((function(){$("#bookmarks").empty();const n=$("#search").val();console.log(n.length>0,n,n.length),n.length>0?$("#query-response").removeAttr("hidden"):$("#query-response").attr("hidden",""),e(n)})),document.addEventListener("DOMContentLoaded",(function(){e()}))})();